<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maze Game</title>
    <style>
        body {
            background-repeat: no-repeat;
            background-size: 80%;
            background-image: url('background.jpg');
        }

        .maze-wall {
            position: absolute;
            width: 100px;
            height: 80px;
            background-color: brown; /* Adjust color as needed */
        }

        .death-area {
            position: absolute;
            width: 100px;
            height: 80px;
            background-color: red; /* Adjust color as needed */
        }
    </style>
</head>
<body id="mybody">

<h1 align="center">Maze Game</h1><br><br><br><br>

<script>
    let myglobalx = 0;
    let myglobaly = 0;
    let canMove = false; // Flag to control player movement
    let myclock;

    function myhitother(my1, my2) {
        left1 = parseInt(document.getElementById(my1).style.left);
        right1 = left1 + parseInt(document.getElementById(my1).style.width);
        top1 = parseInt(document.getElementById(my1).style.top);
        bottom1 = top1 + parseInt(document.getElementById(my1).style.height);
        left2 = parseInt(document.getElementById(my2).style.left);
        right2 = left2 + parseInt(document.getElementById(my2).style.width);
        top2 = parseInt(document.getElementById(my2).style.top);
        bottom2 = top2 + parseInt(document.getElementById(my2).style.height);
        return (right1 >= left2) &&
            (bottom1 >= top2) &&
            (left2 <= right1) &&
            (top2 <= bottom1);
    }

    function mycheckhit() {
        // Check for collisions with walls or other obstacles
        // Add more checks for new maze elements

        // For simplicity, you can redirect to a game-over page on collision
        if (canMove && (myhitother('myimg01', 'deathArea1') || myhitother('myimg01', 'deathArea2'))) {
            alert('Game Over!'); // You can customize the message
            window.location.href = 'http://www.google.ca';
        }
    }

    function moveBackground() {
        let mytemp = '0px 0px';
        myclock = setInterval(function () {
            myglobalx += 5; // Adjust the speed as needed

            // Update the background position based on the movement of red boxes
            let deathArea1 = document.getElementById('deathArea1');
            let deathArea2 = document.getElementById('deathArea2');

            let deathArea1Left = parseInt(deathArea1.style.left) + myglobalx;
            let deathArea2Left = parseInt(deathArea2.style.left) + myglobalx;

            mytemp = deathArea1Left + 'px ' + myglobaly + 'px, ' + deathArea2Left + 'px ' + myglobaly + 'px';
            document.getElementById('mybody').style.backgroundPosition = mytemp;

            // Update the player position
            let person = document.getElementById('myimg01');
            person.style.top = parseInt(person.style.top) + myglobaly + 'px';
            person.style.left = parseInt(person.style.left) + myglobalx + 'px';

            mycheckhit(); // checks for all collisions
        }, 10);
    }

    function stopBackground() {
        clearInterval(myclock);
    }

    function startGame() {
        canMove = true;
        moveBackground();
    }

    document.addEventListener('mousemove', function(event) {
        if (canMove) {
            movePlayer(event);
        }
    });

    function movePlayer(event) {
        let person = document.getElementById('myimg01');
        myglobalx = event.clientX - person.width / 2;
        myglobaly = event.clientY - person.height / 2;

        // Update the player position
        person.style.top = myglobaly + 'px';
        person.style.left = myglobalx + 'px';

        mycheckhit(); // checks for collisions
    }
</script>

<!-- Player -->
<img id="myimg01" style="position: absolute; width: 100px; height: 80px; top: 200px; left: 50px;" src="player.jpg">

<!-- Death Area Walls -->
<div id="deathArea1" class="death-area" style="top: 100px; left: 200px;"></div>
<div id="deathArea2" class="death-area" style="top: 300px; left: 400px;"></div>

<!-- Start Button -->
<input type="button" value="Start Game" onclick="startGame()">

<!-- Stop Button -->
<input type="button" value="Stop Moving Background" onclick="stopBackground()">

</body>
</html>
